// Generated by LiveScript 1.3.1
var koa, cors, json, log, serve, routed, parsed, index, videos, uploader, registrar, authenticator, app;
koa = require('koa');
cors = require('koa-cors');
json = require('koa-json');
log = require('koa-logger');
serve = require('koa-static');
routed = require('koa-router');
parsed = require('koa-better-body');
index = require('./middleware/index');
videos = require('./middleware/videos');
uploader = require('./middleware/upload');
registrar = require('./middleware/registrar');
authenticator = require('./middleware/authenticator');
app = koa();
app.use(cors());
app.use(log());
app.use(json());
app.use(serve(__dirname + '/public'));
app.use(routed(app));
app.get('/videos', videos).get('/form', index).post('/register', parsed(), registrar).post('/authenticate', parsed(), authenticator).post('/upload', parsed({
  multipart: true
}), uploader);
app.listen(3000);